<!DOCTYPE html>
<html lang="es">

<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0" />
    <title>Vídeos David Bellas</title>


    <link href="static/videos_bellas.json" type="application/json" rel="exhibit-data" />
    <link href="static/schema.json" type="application/json" rel="exhibit-data" />
    <link href="static/playlists_bellas.json" type="application/json" rel="exhibit-data" />

    <!-- libs simile-exhibit -->

    <script src="//api.simile-widgets.org/exhibit/HEAD/lib/jquery.min.js" type="text/javascript">
    </script>
    <link rel="exhibit-extension" href="//api.simile-widgets.org/exhibit/HEAD/extensions/time/time-extension.js" />
    <script src="//api.simile-widgets.org/exhibit/HEAD/exhibit-api.js" type="text/javascript"></script>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="//cdn.jsdelivr.net/bootstrap/3.3.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/bootstrap/3.3.0/css/bootstrap-theme.min.css">
    <script src="//cdn.jsdelivr.net/bootstrap/3.3.0/js/bootstrap.min.js"></script>

    <script type="text/javascript">  
        $(document).bind("dataload.exhibit", function() {
            $("input").addClass("form-control");
        });

        $(document).bind("scriptsLoaded.exhibit", function () {
            console.log('hola scr');
            Exhibit.FunctionUtilities.registerSimpleMappingFunction("yearOf",
                function (d) {
                    return d.split('-')[0];
                },
                "number");
        });
    </script>

    <script type="text/javascript">

        function addYear(json) {
            var items = json.items;
            for (var i = 0; item = items[i]; i++) {
                items[i].year = Exhibit.DateTime.parseIso8601DateTime(item.publishedAt).getFullYear();
            }
            return json;
        }
    </script>


    <style>
        #main-content {
            background: white;
        }

        #title-panel {
            padding: 0.25in 0.5in;
        }

        #top-panels {
            padding: 0.5em 0.5in;
            border-top: 1px solid #BCB79E;
            border-bottom: 1px solid #BCB79E;
            background: #FBF4D3;
        }

        .exhibit-tileView-body {
            list-style: none;
        }

        .exhibit-collectionView-group-count {
            display: none;
        }

        table.nobelist {
            border: 1px solid #ddd;
            padding: 0.5em;
        }

        div.name {
            font-weight: bold;
            font-size: 120%;
        }

        .relationship {
            color: #888;
        }

        div.video-thumbnail {
            float: left;
            width: 13em;
            height: 13em;
            border: 1px solid #BCB79E;
            background: #F0FFF0;
            padding: 1em;
            margin: 0.5em;
            text-align: center;
        }

        div.video-timeline-lens {
            padding: 1em;
            text-align: center;
        }

        .card-content p {
            font-size: 12px;
        }
    </style>

</head>

<body>
<header>
    <h1 class="text-center">Vídeos David Bellas</h1>
    <hr>
</header>
    <div class="container">
        <div data-ex-role="exhibit-collection" data-ex-item-types="video"></div>
        <div class="row">
            <div class="col-md-4" data-ex-role="exhibit-facet" data-ex-facet-class="TextSearch" data-ex-facet-label="Buscar" 
            data-ex-expressions=".label, .playlistId.label"></div>
            <div class="col-md-4" data-ex-role="facet" data-ex-expression="yearOf(.publishedAt)" data-ex-facet-label="Año de publicación"></div>
            <div class="col-md-4" data-ex-role="facet" data-ex-expression=".playlistId" data-ex-facet-label="Playlist"></div>
        </div>

        <div data-ex-role="viewPanel" style="padding: 1em 0.5in;">

            <div data-ex-role="view" data-ex-view-class="Thumbnail" data-ex-showall="false" data-ex-orders=".label" data-ex-grouped="false"
                data-ex-paginate="true" data-ex-page-size="30" data-ex-show-controls="false" data-ex-possible-orders=".publishedAt ">

                <div data-ex-role="exhibit-lens" style="display: none;" class="video-thumbnail">

                    <div>
                        <a data-ex-href-content="concat('https://www.youtube.com/watch?&v=', .url)">
                            <img data-ex-src-content=".imagen" alt="Imagen" class="img-responsive">
                        </a>

                    </div>
                    <div class="card-content">
                        <p data-ex-content=".label"></p>
                    </div>


                </div>
            </div>
            <!--
            <div data-ex-role="view" data-ex-view-class="Timeline" data-ex-start="yearOf(.publishedAt)" >
                    <div data-ex-role="lens" class="video-timeline-lens" style="display: none;">
                            <img data-ex-src-content=".imagen"  alt="portrait"/>
                            <div><span data-ex-content=".label"></span></div>
                            
                    </div>

            </div>
        -->
            

        </div>
    </div>





    <!--  Scripts-->

</body>

</html>